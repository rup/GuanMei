<!DOCTYPE html>
<html>
<head>
    <title>观美--Gallery</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
    <link rel="stylesheet" type="text/css" href="css/main.css">
    <link rel="stylesheet" type="text/css" href="bower_components/slick/slick/slick.css">
    <link rel="stylesheet" type="text/css" href="bower_components/slick/slick/slick-theme.css">

</head>
<body>
    <div class="page-gallery wrapper">
        <div class="container">
            <div class="navigation">
                <span class="menu-toggle show-on-mobile">
                    <img src="images/icon-menu.png">
                </span>
                <img class="logo" src="images/logo-s.png">
                <ul>
                    <li> <a href="index.html">
                        <img src="images/home.png" alt="home">
                        <span>Home</span>
                    </a> </li>
                    <li> <a href="gallery.html">
                        <img src="images/gallery.png" width="90px" alt="gallery">
                        <span>Gallery</span>
                    </a></li>
                    <li> <a href="product.html">
                        <img src="images/procduct.png" width="140px" alt="procduct">
                        <span>Procduct</span>
                    </a></li>
                    <li> <a href="contact.html">
                        <img src="images/contactus.png" width="120px" alt="contactus">
                        <span>Contact us</span>
                    </a></li>
                    <li class="show-on-mobile"> <a href="aboutus.html">
                        <span>About us</span>
                    </a></li>
                </ul>
            </div>

            <div class="Grid hide-on-mobile">
                <div class="Grid-cell left">
                    <div class="leftNav nav-list">
                        <a href="/gallery.html#">
                            <span class="en">All</span>
                            <span>全部</span>
                        </a>
                        <a href="/gallery.html#kid">
                            <span class="en">KID</span>
                            <span>亲子</span>
                        </a>
                        <a href="/gallery.html#love">
                            <span class="en">LOVE</span>
                            <span>爱情</span>
                        </a>
                        <a href="/gallery.html#friend">
                            <span class="en">FRIEND</span>
                            <span>闺蜜</span>
                        </a>
                    </div>
                    <div class="leftContent">
                        <p>
                            <a href="index.html">
                                <img src="images/logoInner.png" alt="观美" class="logoInner">
                            </a>
                        </p>
                        <p class="input-search">
                            <input type="text" class="searchInput">
                            <img src="images/search.png" alt="搜索" class="search-icon">
                        </p>
                    </div>
                    <!-- <img src="images/gallery/hint.png" alt="" class="hint"> -->
                    <p class="slogan">我想牵着你的手，把爱映成回忆</p>
                    <div class="grid">
                        <div class="grid-item">
                            <a href="javascript:;">
                                <img src="images/gallery/kid zeshao.jpg" alt="亲子" class="kid video" url="images/coach.mp4">
                            </a>
                        </div>
                        <div class="grid-item">
                            <a href="javascript:;">
                                <img src="images/gallery/love04.jpg" alt="婚纱" class="love">
                            </a>
                        </div>




                

                        <div class="grid-item">
                            <a href="javascript:;">
                                <img src="images/gallery/love princess.jpg" alt="婚纱" class="love video" url="http://player.youku.com/player.php/sid/XNjQ2Mjc1OTc2/v.swf">
                            </a>
                        </div>


                        <div class="grid-item">
                            <a href="javascript:;">
                                <img src="images/gallery/love05.jpg" alt="婚纱" class="love">
                            </a>
                        </div>
                        <div class="grid-item">
                            <a href="javascript:;">
                                <img src="images/gallery/friend02.jpg" alt="闺蜜" class="friend">
                            </a>
                        </div>
                        <div class="grid-item">
                            <a href="javascript:;">
                                <img src="images/gallery/love forget.jpg" alt="婚纱" class="love video" url="http://player.youku.com/player.php/sid/XNjQ4OTg2NjMy/v.swf">
                            </a>
                        </div>

                    </div>
                </div>
                <div class="Grid-cell right">
                    <div class="share">
                        <a href="http://weibo.com/u/3939998274" target="_blank">
                            <img src="images/weibo.png" alt="微博">
                        </a>
                        <a href="javascript:;">
                            <img src="images/wechat.png" alt="微信">
                        </a>
                    </div>
                    <div class="" id="grid">
                            <div class="inner grid js-masonry">


                            <div class="grid-item">
                                <a href="javascript:;">
                                    <img src="images/gallery/kid04.jpg" alt="亲子" class="kid video" url="http://static.video.qq.com/TPout.swf?vid=c0150fhr74v&auto=0">
                                </a>
                            </div>
                            <div class="grid-item">
                                <a href="javascript:;">
                                    <img src="images/gallery/friend gentle.jpg" alt="闺蜜" class="friend video" url="http://static.video.qq.com/TPout.swf?vid=y01685j01mx&auto=0">
                                </a>
                            </div>
                            <div class="grid-item">
                                <a href="javascript:;">
                                    <img src="images/gallery/kid08.jpg"  alt="亲子" class="kid video" url="http://static.video.qq.com/TPout.swf?vid=l01657csb6n&auto=0">
                                </a>
                            </div>
                            <div class="grid-item">
                                    <a href="javascript:;">
                                        <img src="images/gallery/friend04.jpg" alt="闺蜜" class="friend">
                                    </a>
                            </div>
                            <div class="grid-item">
                                <a href="javascript:;">
                                    <img src="images/gallery/love shanghai.jpg" alt="婚纱" class="love video" url="http://player.youku.com/player.php/sid/XNjQ2Mjk3MzI4/v.swf">
                                </a>
                            </div>
                            <div class="grid-item">
                                <a href="javascript:;">
                                    <img src="images/gallery/kid10.jpg"  alt="亲子" class="kid">
                                </a>
                            </div>




                            <div class="grid-item">
                                <a href="javascript:;">
                                    <img src="images/gallery/love beyond.jpg" alt="婚纱" class="love video" url="http://player.youku.com/player.php/sid/XNjQ2Mjg3ODM2/v.swf">
                                </a>
                            </div>
                            <div class="grid-item">
                                <a href="javascript:;">
                                    <img src="images/gallery/friend happy.jpg" alt="闺蜜" class="friend video" url="http://static.video.qq.com/TPout.swf?vid=r0168zqbff7&auto=0">
                                </a>
                            </div>

                            <div class="grid-item">
                                <a href="javascript:;">
                                    <img src="images/gallery/love hundred.jpg" alt="婚纱" class="love video" url="http://player.youku.com/player.php/sid/XNjQ4OTY4MTY0/v.swf">
                                </a>
                            </div>
                            <div class="grid-item">
                                <a href="javascript:;">
                                    <img src="images/gallery/kid12.jpg"  alt="亲子" class="kid">
                                </a>
                            </div>


                            <div class="grid-item">
                                <a href="javascript:;">
                                    <img src="images/gallery/kid06.jpg"  alt="亲子" class="kid">
                                </a>
                            </div>
                            <div class="grid-item">
                                <a href="javascript:;">
                                    <img src="images/gallery/kid guiyuan.jpg"  alt="亲子" class="kid">
                                </a>
                            </div>
                            <div class="grid-item">
                                <a href="javascript:;">
                                    <img src="images/gallery/kid15.jpg"  alt="亲子" class="kid">
                                </a>
                            </div>
                            <div class="grid-item">
                                <a href="javascript:;">
                                    <img src="images/gallery/love together.jpg" alt="婚纱" class="love video" url="http://player.youku.com/player.php/sid/XNjQ2MjgzMjM2/v.swf">
                                </a>
                            </div>
                            <div class="grid-item">
                                <a href="javascript:;">
                                    <img src="images/gallery/friend08.jpg" alt="闺蜜" class="friend">
                                </a>
                            </div>




                            <div class="grid-item">
                                <a href="javascript:;">
                                    <img src="images/gallery/love longmao.jpg" alt="婚纱" class="love video" url="http://player.youku.com/player.php/sid/XNzQwNDE1ODE2/v.swf">
                                </a>
                            </div>

                            <div class="grid-item">
                                <a href="javascript:;">
                                    <img src="images/gallery/kid16.jpg" alt="亲子" class="kid">
                                </a>
                            </div>
                            <div class="grid-item">
                                <a href="javascript:;">
                                    <img src="images/gallery/kid07.jpg"  alt="亲子" class="kid">
                                </a>
                            </div>            



                            <div class="grid-item">
                                <a href="javascript:;">
                                    <img src="images/gallery/love01.jpg" alt="婚纱" class="love">
                                </a>
                            </div>








                            <div class="grid-item">
                                <a href="javascript:;">
                                    <img src="images/gallery/friend09.jpg" alt="闺蜜" class="friend">
                                </a>
                            </div>
                            <div class="grid-item">
                                <a href="javascript:;">
                                    <img src="images/gallery/friend05.jpg" alt="闺蜜" class="friend">
                                </a>
                            </div>
                            <div class="grid-item">
                                <a href="javascript:;">
                                    <img src="images/gallery/love war.jpg" alt="婚纱" class="love video" url="http://player.youku.com/player.php/sid/XNjQ2Mjk1MzAw/v.swf">
                                </a>
                            </div>

                        </div>
                    </div>
                </div>
            </div>

            <div class="grid show-on-mobile">
                <div class="col-1-1"></div>  
            </div>

        </div>
    </div>
    <script src="bower_components/jQuery/jquery-1.11.3.min.js"></script>
    <script src="bower_components/slick/jquery-migrate-1.2.1.min.js"></script>
    <script src="bower_components/slick/slick/slick.min.js"></script>
    <script src="js/masonry.pkgd.min.js"></script>
    <script src="js/common.js"></script>
    <script type="text/javascript">
        


        // masonry
        function changeCat(){
            var oHash = location.hash.replace("#","");
            if(oHash == ""){
                $(".grid .grid-item").show();
            }else{
                var oClass = "." + oHash;
                $(".grid img").parent().parent().hide();
                $(oClass).parent().parent().show();

            }
            masonrify()
        }
        function masonrify () {
            $('.Grid-cell.right .grid').masonry({
                itemSelector: '.Grid-cell.right .grid　.grid-item',
                columnWidth: 295
            })
        }
        window.onhashchange = window.onload = changeCat

        // modal
        var tpl = "<div id='myModal' class='modal fade'>" +
                                "<div class='modal-dialog'>" +
                                    "<div class='modal-content'>" +
                                    "</div>" +
                                "</div>" +
                            "</div>";
        $('body').append(tpl);
        $("#myModal").click(function() { 
            $("#myModal").hide(); 
            $('body').css("overflow","auto")
        });

        $(".grid .grid-item").click(function(){
            var $img = $(this).find('img')
            var url = $img.attr('url')
            if (url) {
                var video = ''
                if(url.indexOf('.swf')>-1) {
                    video = '<embed src="' + url + '" allowFullScreen="true" quality="high"' + 
                            ' width="480" height="400" align="middle" allowScriptAccess="always" ' + 
                            'type="application/x-shockwave-flash"></embed>';
                } else{
                    video = '<video width="480" autoplayY controls poster="' + $img.attr('src') + '">' +
                                '<source src="' + url + '" type="video/mp4">' +
                            '</video>';
                }
                $('.modal-content').html(video)
            } else {
                var srcImg = $img.attr("src"); 
                var $newImg = $("<img />").attr("src", srcImg)
                $('.modal-content').html($newImg)
            }
            $("#myModal").show();
            $('body').css('overflow','hidden')
        });

        if(browser.versions.mobile||browser.versions.android||browser.versions.ios){ 
            var w = $('body').width() - 40
            var h = parseInt(w*0.6)

            ;[$('img.kid'),$('img.friend'),$('img.love')].forEach(function (set) {
                var $pics = $.map(set, function (img,i){
                    var $img = $(img)
                    var url = $img.attr('url')
                    var $pic = $('<div class="pic" />').css('height', h)
                    if (url && url.indexOf('.mp4')>-1){
                        var video = '<video width="'+w+'" height="'+h+'" autoplayY controls poster="' + $img.attr('src') + '">' +
                                        '<source src="'+ url +'" type="video/mp4">' +
                                    '</video>';
                        $pic.append(video)
                    } else{
                        $pic.css('background-image', 'url('+encodeURIComponent($img.attr('src'))+')')
                    }
                    return $pic
                })
                var $slick = $('<div class="slick-slider" />').append($pics)
                    
                $slick
                    .slick({
                        dots: false,
                        infinite: true,
                        speed: 600,
                        fade: false,
                        autoplay:false,
                        cssEase: 'linear'
                    })
                    .appendTo('.grid.show-on-mobile .col-1-1')
                    

            })




        }

            
    </script>
</body>
</html>