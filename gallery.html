<!DOCTYPE html>
<html>
<head>
  <title>观美--Gallery</title>
  <meta charset="utf-8">
  <link rel="stylesheet" type="text/css" href="css/main.css">
</head>
<body>
  <div class="container">
    <img src="images/background.jpg" alt="">
    <div class="navigation">
      <a href="index.html">
        <img src="images/home.png" alt="home">
      </a>
      <a href="gallery.html">
        <img src="images/gallery.png" width="90px" alt="gallery">
      </a>
      <a href="product.html">
        <img src="images/procduct.png" width="140px" alt="procduct">
      </a>
      <a href="contact.html">
        <img src="images/contactus.png" width="120px" alt="contactus">
      </a>
    </div>
    <div class="Grid">
      <div class="Grid-cell left">
        <div class="leftNav nav-list">
          <a href="/gallery.html#">
            <span class="en">All</span>
            <span>全部</span>
          </a>
          <a href="/gallery.html#kid">
            <span class="en">KID</span>
            <span>亲子</span>
          </a>
          <a href="/gallery.html#love">
            <span class="en">LOVE</span>
            <span>婚纱</span>
          </a>
          <a href="/gallery.html#friend">
            <span class="en">FRIEND</span>
            <span>闺蜜</span>
          </a>
        </div>
        <div class="leftContent">
          <p>
            <a href="index.html">
              <img src="images/logoInner.png" alt="观美" class="logoInner">
            </a>
          </p>
          <p class="input-search">
            <input type="text" class="searchInput">
            <img src="images/search.png" alt="搜索" class="search-icon">
          </p>
        </div>
        <!-- <img src="images/gallery/hint.png" alt="" class="hint"> -->
        <p class="slogan">我想牵着你的手，把爱印成回忆</p>
        <div class="grid js-masonry" id="grid">
          <div class="grid-item width100">
            <a href="javascript:;">
              <img src="images/gallery/gallery-01.png" alt="亲子" class="kid video" url="http://player.youku.com/player.php/sid/XMTMzOTc0ODc0OA==/v.swf">
            </a>
          </div>
        </div>
      </div>
      <div class="Grid-cell">
        <div class="share">
          <a href="javascript:;">
            <img src="images/weibo.png" alt="微博">
          </a>
          <a href="javascript:;">
            <img src="images/wechat.png" alt="微信">
          </a>
        </div>
        <div class="grid js-masonry" id="grid">
          <div class="grid-item">
            <a href="javascript:;">
              <img src="images/gallery/gallery-01.png" height="258" alt="亲子" class="kid">
            </a>
          </div>
          <div class="grid-item">
            <a href="javascript:;">
              <img src="images/gallery/gallery-02.png" height="258" alt="亲子" class="kid video" url="http://player.youku.com/player.php/sid/XMTMzOTc0ODc0OA==/v.swf">
            </a>
          </div>
          <div class="grid-item">
            <a href="javascript:;">
              <img src="images/gallery/gallery-03.png" height="130" alt="亲子" class="kid">
            </a>
          </div>
          <div class="grid-item">
            <a href="javascript:;">
              <img src="images/gallery/gallery-04.png" height="130" alt="婚纱" class="love">
            </a>
          </div>
          <div class="grid-item">
            <a href="javascript:;">
              <img src="images/gallery/gallery-05.png" height="259" alt="闺蜜" class="friend">
            </a>
          </div>
          <div class="grid-item">
            <a href="javascript:;">
              <img src="images/gallery/gallery-06.png" height="259" alt="婚纱" class="love">
            </a>
          </div>
          <div class="grid-item">
            <a href="javascript:;">
              <img src="images/gallery/gallery-07.png" height="388" alt="闺蜜" class="friend">
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>
  <script src="bower_components/jQuery/jquery-1.11.3.min.js"></script>
  <script src="js/masonry.pkgd.min.js"></script>
  <script src="js/gallery.js"></script>
  <script type="text/javascript">
    // masonry
    var changeCat = function(){
      var oHash = location.hash.replace("#","");
      if(oHash == ""){
        $("#grid > div").show();
      }else{
        var oClass = "." + oHash;
        $("#grid img").parent().parent().hide();
        $(oClass).parent().parent().show();

      }

      // fix bug
      setTimeout(function (argument) {
        $('#grid').masonry({
          itemSelector: '.grid-item',
          columnWidth: 290
        });
      }, 0)
    }
    window.onhashchange = changeCat
    changeCat()

    // modal
    var tpl = "<div id='myModal' class='modal fade'>" +
                "<div class='modal-dialog'>" +
                  "<div class='modal-content'>" +
                  "</div>" +
                "</div>" +
              "</div>";
    $('body').append(tpl);
    $("#myModal").click(function a() { 
      $("#myModal").hide(); 
      $('body').css("overflow","auto")
    });

    $("#grid .grid-item").click(function(){
      var $img = $(this).find('img')
      if ($img.is(".video")) {
        var url = $img.attr("url")
        var video = '<embed src="' + url + '" allowFullScreen="true" quality="high"' + 
            ' width="480" height="400" align="middle" allowScriptAccess="always" ' + 
            'type="application/x-shockwave-flash"></embed>';
        $('.modal-content').html(video)
      } else {
        var srcImg = $img.attr("src"); 
        var $newImg = $("<img />").attr("src", srcImg)
        $('.modal-content').html($newImg)
      }
      $("#myModal").show();
      $('body').css('overflow','hidden')
    });
      
  </script>
</body>
</html>